import{r as n,o as k,x as i,z as e,L as m,E as l,G as O,H as I,D as d,M as c,N as f,O as x,P,A as _,Q as A,F as D,y as p,S as G}from"./DKjNAtLN.js";import{h as X}from"./B-YVwB4U.js";import{u as M}from"./byfAgXi1.js";const H={class:"h-screen bg-[#f5f5f5] flex"},L={class:"overflow-y-scroll bg-white w-full"},R={key:0,class:"w-11/12 mx-auto flex items-center my-8"},Q={class:"w-6/12"},W=["src"],j={class:"gap-x-3 border-[#ebebeb] shadow mt-3 border w-11/12 mx-auto"},q={class:"w-full"},J={class:""},Y={class:"grid grid-cols-3 justify-center my-5"},Z={class:"flex justify-between"},$={class:"font-bold text-green-900"},K=["onUpdate:modelValue"],ee={class:"font-bold py-0.5 -mt-0.5 text-center capitalize text-white bg-green-700 mb-3"},te={class:""},se=["onUpdate:modelValue"],le=["onUpdate:modelValue"],oe={class:"overflow-y-scroll"},ae={key:0},ne={class:"lg:w-full"},re={class:"py-5 px-3"},ie={class:""},de={class:"pt-2"},ce={class:"gap-x-3 w-full"},pe={class:"w-full mb-2"},ue={class:"w-full mb-2"},me={class:"w-full mb-2"},fe={class:"w-full"},xe={class:"w-full"},ge={class:"w-full"},be={class:"mb-3 border border-transparent"},ve={class:"gap-x-3 w-full mb-3"},ye={class:"bg-[#007DFE] pb-3 px-3 mb-2"},_e={class:"flex gap-x-3 w-full py-3"},he={class:"flex items-center"},we={class:"bg-[#B11116] pb-3 px-3"},ke={class:"flex gap-x-3 w-full py-3"},Pe={class:"flex items-center"},Ve={class:"w-full mb-3"},Te={class:""},Ue={key:1,class:"text-xs mt-1 text-green-400"},Ce=["disabled"],Be={key:1},Ne={__name:"index",setup(Fe){M({title:"Delgar Frozen Products",link:[{rel:"icon",type:"image/png",href:"https://lsu-media-styles.sgp1.digitaloceanspaces.com/test/delgar-frozen-products/delgar-to-remove-bg-removebg-preview.png"}]});const V=n("https://lsu-media-styles.sgp1.digitaloceanspaces.com/test/delgar-frozen-products/Delgars%20FB%20Profile.png");let g="http://127.0.0.1:8000",b=n(!0);k(async()=>{await C()});const y=n([]),h=n(!1),T=n([]),U=n(""),C=async()=>{h.value=!0;try{const o=await $fetch(g+"/api/delgar/product/list").catch(t=>(console.error("Fetch error:",t),[]));y.value=Array.isArray(o)?o:[],T.value=[],U.value=""}catch(o){console.error("Error fetching list items:",o),y.value=[]}finally{h.value=!1}},a=n({order_id:"OID"+X().valueOf(),fullname:"",address:"-",contact_email:"",contact_number:"",products:[{product_id:"",product_image:"",product_name:"",kilograms:"",quantity:"",price:""}],system_fee:"20",delivery_fee:"50",grand_total:"",payment_method:"",receipt_url:""}),u=n(null),B=n(null),F=async o=>{const t=o.target.files[0];if(t){B.value=t;try{u.value={success:!1,message:"Uploading..."};const s=new FormData;s.append("file",t);const v=await fetch(g+"/api/register/upload/",{method:"POST",body:s}),r=await v.json();v.ok?(info.value.receipt_url=r.file,u.value={success:!0,message:"Upload successful!"}):u.value={success:!1,message:"Upload failed: "+(r.detail||"Unknown error")}}catch(s){console.error("Error uploading file:",s),u.value={success:!1,message:"Upload failed: "+s.message}}}};k(()=>{});const w=n(!1),S=()=>{const o=/^\+639\d{9}$/;w.value=!o.test(info.value.contact_number),info.value.contact_number.startsWith("09")&&(info.value.contact_number="+63"+info.value.contact_number.substring(1))},z=async()=>{E()},E=async()=>{if(isFormValid.value)await $fetch(g+"/api/order/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:info.value}).then(o=>{b.value=!1,console.log(o),N()});else return},N=async()=>{await $fetch(g+"/api/order/email/",{method:"POST",headers:{"Content-Type":"application/json"},body:info.value}).then(o=>{console.log(o)})};return(o,t)=>(p(),i("div",null,[e("div",H,[e("div",L,[l(b)?(p(),i("div",R,[t[5]||(t[5]=e("div",{class:"w-full text-right"},[e("p",{class:"text-sm block font-semibold"},"Easy Online Order 24/7"),e("p",{class:"text-xs"}," JP Rizal Avenue Infront of Penshoppe beside Sanbon Enterprises, Purok 4 Carmen Annex, Ozamiz City , Ozamiz, Philippines ")],-1)),e("div",Q,[e("img",{src:l(V),class:"lg:w-[100px] w-[70px] mx-auto rounded-full border-[#26aec6] border-2"},null,8,W)]),t[6]||(t[6]=e("div",{class:"w-full text-sm text-left"},[e("ul",{class:"text-xs"},[e("li",null,"✅Wholesale and Retail"),e("li",null," ✅Frozen Meat Pork, Beef, Chicken, Tuna, Seafoods and etc. "),e("li",null,"✅We ship in neighboring Towns")])],-1))])):m("",!0),t[13]||(t[13]=e("div",{class:"w-11/12 mx-auto py-2 shadow"},[e("div",{class:"w-full"},[e("label",{class:"text-xs block text-center"},"Grand Total ")])],-1)),e("div",j,[e("div",q,[t[12]||(t[12]=e("p",{class:"font-bold text-center px-2 pt-5 uppercase"}," Select Products ",-1)),e("div",J,[e("ul",Y,[(p(!0),i(O,null,I(l(y),(s,v)=>(p(),i("li",{key:v,class:"border shadow-lg px-3 pt-1 pb-3 mx-2 mb-3 relative"},[e("div",Z,[e("p",$,[t[7]||(t[7]=e("i",{class:"fa-solid fa-peso-sign"},null,-1)),d(" "+_(s.price),1)]),e("p",null,[c(e("input",{type:"checkbox","onUpdate:modelValue":r=>s.selected=r,class:"ml-auto mr-0 block my-1 w-3.5 h-3.5"},null,8,K),[[G,s.selected]])])]),t[10]||(t[10]=e("img",{src:"https://scontent.fmnl4-4.fna.fbcdn.net/v/t39.30808-6/513758360_738169865629019_5811710172296710755_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeFbZ_oVSYZ-nJP3l6mGTNOSw-23rJYXNGrD7beslhc0al-Rf45ACJ898xEsqVuql7KxdMdRrggB3hM-3sCIo7-z&_nc_ohc=BVv07yjrr68Q7kNvwH-5qGT&_nc_oc=Adkd_O4rg4c7VjvxB_EwATL1sAdvWk7DO3xRB0izeipbFS-GEa6jY_N0NcirXLyPHnU&_nc_zt=23&_nc_ht=scontent.fmnl4-4.fna&_nc_gid=IZnvuZYjUiBE84KQWrWp7Q&oh=00_AfSPpdYNqLSJB38yxHFOvCvnk5wEIjGlEBOHOHWf0i097Q&oe=68751D05",class:"w-full h-[250px] object-cover border-t-2 border-green-800"},null,-1)),e("p",ee,_(s.product_name),1),e("div",te,[e("p",{class:x(["mb-1",s.type==="kilo"?"":"hidden"])},[t[8]||(t[8]=e("span",{class:"text-xs mr-1.5"},"Kilograms:",-1)),c(e("input",{"onUpdate:modelValue":r=>s.kilograms=r,class:"border w-[50px] px-2 border-green-500",type:"number"},null,8,se),[[f,s.kilograms]])],2),e("p",{class:x(["mb-1",s.type==="item"?"":"hidden"])},[t[9]||(t[9]=e("span",{class:"text-xs mr-[13px]"},"Quantity:",-1)),c(e("input",{"onUpdate:modelValue":r=>s.kilograms=r,class:"border w-[50px] px-2 border-green-500",type:"number"},null,8,le),[[f,s.kilograms]])],2)]),t[11]||(t[11]=e("p",{class:"bg-[#18863d] rounded-xl text-white text-center w-fit px-2.5 text-xs absolute bottom-3 right-2 py-1"}," Available ",-1))]))),128))])])])])]),e("div",oe,[l(b)?(p(),i("div",ae,[e("div",ne,[e("form",re,[e("div",ie,[e("div",de,[t[17]||(t[17]=e("div",{class:"mb-3 uppercase text-center tracking-widest"},[e("i",{class:"fa fa-shopping-cart"}),d(" Payment Details ")],-1)),e("div",ce,[e("div",pe,[t[14]||(t[14]=e("label",{class:"text-xs block lg:mb-1"},[d("Full Name "),e("span",{class:"text-md text-red-700"},"*")],-1)),c(e("input",{class:"w-full border py-1 px-2 lg:text-sm text-xs",type:"text",placeholder:"Full Name","onUpdate:modelValue":t[0]||(t[0]=s=>l(a).fullname=s)},null,512),[[f,l(a).fullname]])])]),e("div",ue,[e("div",me,[e("div",fe,[t[15]||(t[15]=e("label",{class:"text-xs block lg:mb-1"},[d("Contact Email "),e("span",{class:"text-md text-red-700"},"*")],-1)),c(e("input",{class:"w-full border py-1 px-2 lg:text-sm text-xs",type:"email",placeholder:"Contact Email","onUpdate:modelValue":t[1]||(t[1]=s=>l(a).contact_email=s)},null,512),[[f,l(a).contact_email]])])]),e("div",xe,[e("div",ge,[t[16]||(t[16]=e("label",{class:"text-xs block lg:mb-1 whitespace-nowrap"},[d("Contact Number "),e("span",{class:"text-md text-red-700"},"*")],-1)),c(e("input",{class:x(["w-full border py-1 px-2 lg:text-sm text-xs",{"border-red-500":l(w)}]),type:"tel",placeholder:"e.g +639XXXXXXXXX","onUpdate:modelValue":t[2]||(t[2]=s=>l(a).contact_number=s),onInput:S,maxlength:"13"},null,34),[[f,l(a).contact_number]])])])])]),e("div",be,[e("div",null,[t[22]||(t[22]=e("p",{class:"lg:text-sm text-xs lg:mb-2 mb-1"},[d(" Payment Method "),e("span",{class:"text-md text-red-700"},"*")],-1)),e("div",ve,[e("div",ye,[e("div",_e,[e("div",he,[c(e("input",{id:"gcash",class:"border-b-[3px] border-violet-800 bg-[#ffffff] py-1 lg:px-2 lg:text-sm text-xs cursor-pointer",type:"radio","onUpdate:modelValue":t[3]||(t[3]=s=>l(a).payment_method=s),value:"GCash"},null,512),[[P,l(a).payment_method]])]),t[18]||(t[18]=e("label",{for:"gcash",class:"flex items-center"},[e("div",null,[e("div",{class:"text-xs lg:font-bold w-fit lg:mr-7 whitespace-nowrap cursor-pointer text-white"}," GCash Transfer ")])],-1))]),t[19]||(t[19]=e("div",{class:"w-full"},[e("img",{src:"https://lsu-media-styles.sgp1.digitaloceanspaces.com/test/delgar-frozen-products/GCASH.png",class:"lg:max-w-[250px] mx-auto w-full"})],-1))]),e("div",we,[e("div",ke,[e("div",Pe,[c(e("input",{id:"bankTransfer",class:"border-b-[3px] mr-3 border-violet-800 bg-[#ffffff] py-1 lg:px-2 lg:text-sm text-xs cursor-pointer",type:"radio","onUpdate:modelValue":t[4]||(t[4]=s=>l(a).payment_method=s),value:"Bank Transfer"},null,512),[[P,l(a).payment_method]])]),t[20]||(t[20]=e("label",{for:"bankTransfer",class:"flex items-center"},[e("div",null,[e("div",{class:"text-xs lg:font-bold w-fit lg:mr-7 whitespace-nowrap cursor-pointer text-white"}," BPI Bank Transfer ")])],-1))]),t[21]||(t[21]=e("div",{class:"w-full"},[e("img",{src:"https://lsu-media-styles.sgp1.digitaloceanspaces.com/test/delgar-frozen-products/BPI.png",class:"lg:max-w-[250px] mx-auto w-full"})],-1))])])]),e("div",null,[t[23]||(t[23]=e("p",{class:"lg:text-sm text-xs"},[d(" Upload Receipt "),e("span",{class:"text-md text-red-700"},"*")],-1)),e("div",Ve,[e("div",Te,[e("input",{class:"w-full py-1 lg:text-sm text-xs",type:"file",onChange:F,accept:"image/*,.pdf"},null,32)]),l(u)?(p(),i("div",{key:0,class:x(["text-xs mt-1",l(u).success?"text-green-400":"text-red-400"])},_(l(u).message),3)):m("",!0),l(a).receipt_url?(p(),i("div",Ue," Receipt uploaded successfully ")):m("",!0)])])])]),e("button",{type:"submit",disabled:!o.isFormValid,onClick:A(z,["prevent"]),class:x(["mb-5",["font-bold flex py-1 px-10 rounded-lg mx-auto justify-center text-center items-center w-full shadow uppercase hover:bg-[#0f6f2b] hover: mt-3",o.isFormValid?"bg-white text-[#000000]":"bg-gray-300 text-[#fff] cursor-not-allowed"]])},[...t[24]||(t[24]=[e("i",{class:"fa fa-paper-plane mr-2"},null,-1),d(" Submit ",-1)])],10,Ce)])])])):m("",!0),l(b)?m("",!0):(p(),i("div",Be,[...t[25]||(t[25]=[D('<div class="md:w-4/12 gap-10 lg:rounded-4xl lg:px-14 px-3 lg:py-1 lg:my-10 rounded-xl border-4 w-11/12 mx-auto my-5 border-[#3d216d]"><div class="flex items-center text-center justify-center lg:pt-10 pt-14"><i class="fa fa-check font-bold text-5xl" aria-hidden="true"></i></div><div class="text-xl text-center w-fit mx-auto py-5"><h1 class="font-bold text-3xl">Thanks for submitting!</h1><p class="font-light pt-3 pb-10">See you soon!</p><p class="font-light text-xs italic mb-10"> Please check your email. </p><a href="/" class="bg-white text-[#320a3c] rounded-3xl py-1.5 font-bold px-10 lg:mb-3 mb-5 mx-auto w-fit lg:block hidden">Back to Home</a></div></div>',1)])]))])])]))}};export{Ne as default};
